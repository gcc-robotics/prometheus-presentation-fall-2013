<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Prometheus</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/sky.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', use the PDF print sheet -->
		<script>
			document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<div class="slides">

				<!-- Title Page -->
				<section>
					<img src="img/robotics-banner.jpg" width="985" height="200" alt="Glendale Community College Robotics Academy">
					<h1>Prometheus</h1>
					<h3>Fall 2013</h3>

					<aside class="notes">
						Press S for speaker notes. B for quiet mode.
					</aside>
				</section>

				<!-- Outline -->
				<section>
					<h2>Outline</h2>
					<ul>
						<li>Mechanical</li>
						<li>Electronics</li>
						<li>Software</li>
						<li>Demo</li>
						<li>Future Work</li>
					</ul>

					<img width="450" height="600" src="img/prometheus-overview.jpg" alt="Prometheus Mechanics" align="right" />
				</section>

				<!-- Mechanical -->
				<section data-transition="linear" data-background="#4d7e65" data-background-transition="slide">
					
					<section>
						<h2>Mechanical</h2>
						
						<img width="450" height="600" src="img/prometheus-overview.jpg" alt="Prometheus Mechanics" align="center" />
					</section>
					
					<section>
						<h2>Rainbowcorn</h2>
						
						<img width="280" height="326" src="https://s3.amazonaws.com/hakim-static/reveal-js/cornify.gif" alt="Unicorn">
					</section>
				</section>

				<!-- Electronics -->
				<section data-transition="linear" data-background="#8c4738" data-background-transition="slide">
					
					<section>
						<h2>Electronics</h2>
						
						<img width="500" height="667" src="img/prometheus-electronics-breadboard.jpg" align="center" />
					</section>
					
					<section>
						<h3>What do the electronics consist of?</h3>
						
						<ul>
							<li>Arduino Pro Mini<br />(Atmega328 micro-controller)</li>
							<li>PWM generator</li>
							<li>4&#60;&#62;16 Mux/Demux</li>
							<li>Motor Drivers</li>
						</ul>
						
						<img width="300" height="502" src="img/prometheus-electronics-solderboard.jpg" align="right" />
					</section>
					
					<section>
						<h3>Theory of Operation</h3>
						
						<ul>
							<li>Arduino processes software and position sensor information and gives the PWM generator commands to move.<br /><br /></li>
							<li>PWM generator translates these commands into speed and direction instructions for the motor drivers.<br /><br /></li>
							<li>The motor drivers convert 5V logical signals into 12V high current signals.<br /><br /></li>
						</ul>
					</section>
					
					<section>
						<h3>Example of Operation</h3>
						
						<img width="640" height="468" src="img/good-pwm.jpg" align="center" />
					</section>
					
					<section>
						<ul>
							<li>The PWM generator creates a square waveform that is fed to the PWM input of the motor drivers.<br /><br /></li>
							<li>The output of the motor drivers should look exactly the same as the PWM input, only instead of 5V amplitude, the output must be 12V amplitude.<br /><br /></li>
							<li>The waveform should be clean, with no spikes or inconsistencies.<br /><br /></li>
						</ul>
					</section>
					
					<section>
						<h3>Example of Trouble</h3>
						
						<img width="640" height="468" src="img/bad-pwm.jpg" align="center" />
					</section>
					
					<section>
						<h3>What was wrong?</h3>
						
						<ul>
							<li>The output of the motor driver appears to be following the 25% duty cycle of the PWM<br /><br /></li>
							<li>Oscillation during downtime, centered at about 8V indicates false triggering of the output transistors<br /><br /></li>
							<li>Notice the output waveform never reaches 0V, instead floats around 8V<br /><br /></li>
						</ul>
					</section>
					
					<section>
						<h3>What could cause this behavior?</h3>
						
						<ul>
							<li>Cold solder joints<br /><br /></li>
							<li>Damage due to overheating<br /><br /></li>
							<li>Damage inflicted by ESD<br /><br /></li>
						</ul>
					</section>
					
					<section>
						<h3>Cold Solder Joints</h3>
						
						<img width="750" height="562" src="img/cold-solder.jpg" align="center" />
						
						<p>Poor mechanical contact between two conductive surfaces.</p>
					</section>
					
					<section>
						<h3>ESD Caution</h3>
						
						<ul>
							<li>
								The dielectric breakdown <br />
								of air at 1mm is approximately <br />
								3kV. The human body can <br />
								accumulate an excess <br />
								of 20kV.<br /><br />
							</li>
							<li>
								2kV is sufficient to fry <br />
								most of our board <br />
								components.
							</li>
						</ul>
						
						<img width="325" height="300" src="img/esd.png" align="right" />
					</section>
					
					<section>
						<h3>Schematic Diagram</h3>
						
						<img width="700" height="664" src="img/prometheus-diagram.png" align="center" />
					</section>
					
				</section>

				<!-- Software -->
				<section data-transition="linear" data-background="#007777" data-background-transition="slide">
					
					<section>
						<h2>Software</h2>
						
						<ul>
							<li>Two Devices</li>
							<li>Arduino Pro Mini</li>
							<li>Raspberry Pi</li>
							<li>Communicate over Serial</li>
						</ul>

						<img width="425" height="450" src="img/arduino-raspberry-pi-connection.jpg" align="right" />

						<aside class="notes">
							<ul>
								<li>Arduino controls the arm hardware</li>
								<li>Raspberry Pi provides remote control</li>
							</ul>
						</aside>
					</section>
					
					<section>
						<h2>Original Code</h2>
						
						<ul>
							<li>Only one source file</li>
							<li>Very limited documentation</li>
							<li>Manual "version control"</li>
							<li>No remote control code</li>
						</ul>
					</section>

					<section>
						<h2>Version Control &amp; Documentation</h2>
						
						<ul>
							<li>Implemented version control using Git</li>
							<li>Specified basic documentation standard</li>
							<li>Available under MIT license on GitHub</li>
						</ul>

						<aside class="notes">
							<ul>
								<li>The original code was all in one file and very messy.</li>
								<li>The git repository is available on github.com</li>
							</ul>
						</aside>
					</section>
					
					<section>
						<h2>Arduino Software</h2>
						
						<ul>
							<li>Written in C++</li>
							<li>Directly controls the arm hardware</li>
							<li>Based on code from previous team</li>
							<li>Separated into sections to provide<br />layers of abstraction</li>
						</ul>
						
						<img width="225" height="400" src="img/arduino-pro-mini.jpg" align="right" />
					</section>
					
					<section>
						<h2>Multiplexer Class</h2>
						
						<ul>
							<li>Controls the Multiplexer</li>
							<li>Handles low level control</li>
							<li>Exposes high level API</li>
							<li>
								Abstracts away details of how<br />
								the Multiplexer functions
							</li>
						</ul>
						
						<img width="181" height="414" src="img/multiplexer.jpg" align="right" />
					</section>
					
					<section>
						<h2>Multiplexer Example</h2>
						
						<p>Before:</p>
						
						<pre><code data-trim>
// Read input 7 on multiplexer
pinMode(4, OUTPUT);
pinMode(5, OUTPUT);
pinMode(6, OUTPUT);
pinMode(7, OUTPUT);
digitalWrite(4, 1);
digitalWrite(5, 1);
digitalWrite(6, 1);
digitalWrite(7, 0);
int value = analogRead(A0);
						</code></pre>
						
						<p>After:</p>
						
						<pre><code data-trim>
// Read input 7 on multiplexer
Multiplexer mux = Multiplexer();
int value = mux.readInput(7);
						</code></pre>
					</section>
										
					<section>
						<h2>Motor Controller Class</h2>
						
						<ul>
							<li>Controls the PWM Board</li>
							<li>Handles low level control</li>
							<li>Exposes high level API</li>
							<li>
								Abstracts away details of how<br />
								the PWM Board functions
							</li>
						</ul>
						
						<img width="200" height="487" src="img/pwm-board.jpg" align="right" />
					</section>
					
					<section>
						<h2>Motor Controller Example</h2>
						
						<p>Before:</p>
						
						<pre><code data-trim>
// Set motor 3 to reverse at 50% speed
Adafruit_PWMServoDriver pwm = Adafruit_PWMServoDriver();
pwm.begin();
pwm.setPWMFreq(60);
int speed = 50;
int motor = 3;
pwm.setPWM(3 * motor, 0, 4095); // INA to HIGH
pwm.setPWM(3 * motor + 1, 4095, 0); // INB to LOW
pwm.setPWM(3 * motor + 2, 0, int(speed * 40.95));
						</code></pre>
						
						<p>After:</p>
						
						<pre><code data-trim>
// Set motor 3 to reverse at 50% speed
MotorController motor = MotorController();
motor.setup();
motor.speed(3, -50);
						</code></pre>
					</section>
					
					<section>
						<h2>Robot Arm Class</h2>
						
						<ul>
							<li>Provides an additional layer of abstraction</li>
							<li>Uses the Multiplexer and Motor Controller Classes</li>
							<li>Exposes the highest level API</li>
						</ul>
						
						<pre><code data-trim>
// Set the elbow joint to 135 degrees
RobotArm arm = RobotArm();
arm.setup();
arm.elbow(135);
						</code></pre>
					</section>
					
					<section>
						<h2>Command Processor Class</h2>
						
						<ul>
							<li>Exposes the Robot Arm Class API over Serial</li>
							<li>Allows for remote control and debugging</li>
						</ul>
					</section>
										
					<section>
						<h2>Raspberry Pi Software</h2>
						
						<ul>
							<li>Raspbian Linux</li>
							<li>Server side: Python</li>
							<li>Client side: Javascript</li>
							<li>Communicate using AJAX</li>
						</ul>
						
						<img width="475" height="270" src="img/raspberry-pi.jpg" align="right" />
						
						<aside class="notes">
						<ul>
							<li>Hardware is similar to an average smart phone.</li>
							<li>Runs full fledged operating system. Linux.</li>
							<li>SSH Server for remote access.</li>
							<li>Will add access point to allow for simple connection over WiFi.</li>
						</ul>
					</aside>
					</section>
					
					<section>
						<h2>Python Server</h2>
						
						<p>Facilitates communication between the Arduino and the Javascript web interface.</p>
						
						<img width="954" height="297" src="img/prometheus-remote-control-diagram.png" align="right" style="border: none;" />

						<aside class="notes">
							<ul>
								<li>Initiates serial communication with Arduino</li>
								<li>Starts up web server</li>
								<li>Sets timeouts to 10ms (100th of a second) to ensure low latency</li>
							</ul>
						</aside>
					</section>
					
					<section>
						<h2>Javascript Client</h2>
						
						<ul>
							<li>Responsive UI - Works on PC,<br />tablet, and phone</li>
							<li>Sends AJAX Requests to <br />to Python server</li>
							<li>3D Rendering of the <br />Prometheus using WebGL</li>
							<li>Command console for <br />debugging</li>
						</ul>
						
						<img width="400" height="640" src="img/prometheus-remote-control-interface-tablet.png" align="right" />
					</section>
				</section>
				
				<section>
					<h2>Live Demo</h2>
					
					<p>Its alive!</p>
					
					<p>
						<small>Sort Of...</small>
					</p>
					
					<aside class="notes">
						Demo remote control interface.
					</aside>
				</section>

				<section>
					<h2>Future Work</h2>
					
					<ul>
						<li>Consider using Beaglebone Black</li>
						<li>Create wiring harness</li>
						<li>Add limit switches</li>
						<li>Improve code documentation</li>
						<li>Fix PID control bugs</li>
						<li>Fix bugs when controlling 5 joints at once</li>
						<li>Tune PID controls and limits once the arm is assembled</li>
						<li>Design and build Gripper</li>
						<li>Consider an additional degree of freedom in the wrist.</li>
					</ul>
					
					<aside class="notes">
						<ul>
							<li>Beaglebone Black would simplify the electronics. Combines Arduino, Multiplexer, PWM board, and Raspberry Pi.</li>
							<li>PID Controls currently only work as Proportional.</li>
							<li>The RobotArm Class cannot currently operate all 5 joints at once. Bugs.</li>
							<li>PID gains need to be tuned for the actual completed joints.</li>
							<li>The wrist is currently missing hinge type motion.</li>
						</ul>
					</aside>
				</section>
				
				<section>
					<h1>THE END</h1>
					
					<h4>Presented By:</h4>
					
					<p>
						<small>
							Marek Litomisky<br />
							Ernest Hovhannisyan<br />
							Sung Hoon Kim<br />
							Roman Zograbian<br />
						</small>
					</p>
				</section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: 'sky', 
				transition: 'default', 

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					//{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					//{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
